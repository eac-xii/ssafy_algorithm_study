
---

파이썬의 `list.sort()` 메서드와 내장 함수 `sorted()`는 **팀소트(Timsort)**라는 정렬 알고리즘을 사용합니다.

팀소트는 일반적인 알고리즘 수업에서 배우는 기본적인 정렬(버블, 삽입, 선택, 퀵, 병합)보다 훨씬 더 복잡하고, **실제 환경에서 매우 효율적으로 작동하도록 설계된 하이브리드 정렬 알고리즘**입니다.

## 팀소트(Timsort)란?

팀소트는 2002년에 팀 피터스(Tim Peters)가 파이썬을 위해 개발한 정렬 알고리즘으로, 다음과 같은 두 가지 주요 정렬 알고리즘의 장점을 결합했습니다.

1.  **병합 정렬 (Merge Sort):** 안정적인 $O(N \log N)$의 성능을 보장합니다.
2.  **삽입 정렬 (Insertion Sort):** 데이터가 이미 부분적으로 정렬되어 있거나 데이터 양이 매우 적을 때 $O(N)$에 가까운 빠른 성능을 냅니다.

## 팀소트의 특징 및 작동 방식

팀소트의 핵심 아이디어는 실제 데이터는 완전히 무작위로 섞여있기보다는 **이미 정렬되어 있는 '부분(run)'들이 존재할 가능성이 높다**는 점에 착안했습니다.

1.  **런(Run) 감지 및 확장:** 팀소트는 먼저 입력 데이터를 순회하며 **이미 정렬되어 있는 부분(오름차순 또는 내림차순)**을 찾아냅니다. 이 부분들을 '런(run)'이라고 부릅니다.
2.  **삽입 정렬 적용:** 런의 길이가 특정 최소 길이(보통 32 또는 64)보다 작으면, **삽입 정렬**을 사용하여 이 런을 정렬하고 최소 길이로 만듭니다. 삽입 정렬은 작은 데이터에 효율적이기 때문입니다.
3.  **런 병합:** 찾아내고 필요에 따라 정렬된 '런'들을 **병합 정렬** 방식을 사용하여 차례대로 합쳐나갑니다. 이때, 병합 정렬의 효율성을 극대화하기 위해 스택에 런을 쌓아두고 특정 조건을 만족할 때만 병합을 수행합니다.
4.  **최적화된 병합:** 단순히 런을 합치는 것이 아니라, 병합할 두 런의 상대적인 크기와 위치를 고려하여 가장 효율적인 병합 전략(예: 갤로핑 모드)을 사용합니다.

## 왜 팀소트를 사용할까요?

* **최적의 평균 성능:** 실제 데이터에 대한 평균 성능이 매우 뛰어납니다. 많은 실제 데이터는 부분적으로 정렬되어 있거나, 아주 작은 부분으로 나눌 수 있기 때문입니다.
* **안정성:** 동일한 값을 가진 요소들의 상대적인 순서가 변하지 않는 **안정 정렬**입니다. 이는 데이터에 여러 기준이 있을 때 중요한 장점입니다.
* **$O(N \log N)$ 보장:** 최악의 경우에도 항상 $O(N \log N)$의 시간 복잡도를 보장합니다. (퀵 정렬의 최악 $O(N^2)$ 단점 보완)
* **낮은 상수 인자:** 이론적인 복잡도 외에도 실제 연산 횟수를 최소화하여 '실제 속도'가 빠릅니다.

파이썬 외에도 Java의 `Arrays.sort()` (객체 정렬 시), Android, Swift, Chrome V8 엔진 등 다양한 곳에서 팀소트를 사용하고 있습니다. 이는 팀소트가 실제 데이터와 다양한 환경에서 얼마나 효과적인지를 보여주는 좋은 예시입니다.

---
